import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { inverseDecorator } from '../../../.storybook/decorators'
import { useState } from 'react'
import { Button, ButtonGroup } from '.'

<Meta title="Components|Base/Button" component={Button} />

# Button
A simple button for allowing users to carry out any necessary action(s).
 
## Base
This is the button in its simplest form, using all default props.

<Preview>
  <Story name="Base">
    <Button>Button</Button>
  </Story>
</Preview>

## Variants
Pass a value to the `variant` prop and you'll see the desired button rendered. `Primary` is the default value, so the prop can be omitted.

### Primary
<Preview>
  <Story name="Primary">
    <Button variant="Primary">Primary Button</Button>
  </Story>
</Preview>

### Secondary
<Preview>
  <Story name="Secondary">
    <Button variant="Secondary">Secondary Button</Button>
  </Story>
</Preview>

### Tertiary
<Preview>
  <Story name="Tertiary">
    <Button variant="Tertiary">Tertiary Button</Button>
  </Story>
</Preview>

### Inverse
<Preview>
  <Story name="Inverse" decorators={[inverseDecorator]}>
    <Button variant="Inverse">Inverse Button</Button>
  </Story>
</Preview>

## States
Buttons can be used to indicate to the user that something is happening using state. Click the button to see a random state.

<Preview>
  <Story name='States'>
    {() => {
      const [state, setState] = useState('Default')
      const states = {
        Default: { text: 'Action' },
        Active: { icon: { align: 'End', name: 'Loading', active: true }, text: 'Loading...' },
        Success: { icon: { align: 'End', name: 'Success' }, text: 'Success' },
        Warning: { icon: { align: 'End', name: 'Info' }, text: 'Warning' },
        Error: { icon: { align: 'End', name: 'Error' }, text: 'Error' },
      }
      const handleClick = () => {
        setState('Active')
        const arr = ['Success', 'Warning', 'Error']
        setTimeout(() => setState(arr[Math.floor(Math.random() * arr.length)]), 3000)
      }
      return (
        <Button icon={states[state].icon} onClick={handleClick}>{states[state].text}</Button>
      )
    }}
  </Story>
</Preview>

## Sizes
Pass a value to the `size` prop and you'll see the desired button rendered. `Medium` is the default value, so the prop can be omitted.

### XSmall
<Preview>
  <Story name="XSmall">
    <Button size="XSmall" >Small Button</Button>
  </Story>
</Preview>

### Small
<Preview>
  <Story name="Small">
    <Button size="Small" >Small Button</Button>
  </Story>
</Preview>

### Medium
<Preview>
  <Story name="Medium">
    <Button size="Medium">Medium Button</Button>
  </Story>
</Preview>

### Large
<Preview>
  <Story name="Large">
    <Button size="Large">Large Button</Button>
  </Story>
</Preview>

## Link
If the `href` prop is supplied, the button will render correctly as an `<a>` tag.

<Preview>
  <Story name="Link">
    <Button href="/">Link Button</Button>
  </Story>
</Preview>

## Icon Button
Icon button

<Preview>
  <Story name="Icon">
    <div>
      <Button icon={{ name: 'Chevron-left', align: 'Start' }}>Icon Button</Button>
      <Button className="m m--l-md" variant="Secondary" icon={{ name: 'Chevron-right', align: 'End' }}>Icon Button</Button>
    </div>
  </Story>
</Preview>

## Button Group
Wrap buttons inside the Button Group component to have the corners styled.

<Preview>
  <Story name="ButtonGroup">
    <div>
      <ButtonGroup className="m--b-sm">
        <Button className="m m--l-md">Button 1</Button>
        <Button className="m m--l-md">Button 2</Button>
        <Button className="m m--l-md">Button 3</Button>
      </ButtonGroup>
      <ButtonGroup>
        <Button variant="Secondary" className="m m--l-md">Button 1</Button>
        <Button variant="Secondary" className="m m--l-md">Button 2</Button>
        <Button variant="Secondary" className="m m--l-md">Button 3</Button>
      </ButtonGroup>
    </div>
  </Story>
</Preview>
