import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { useEffect, useState } from 'react'
import { SocialFeed } from '.'

<Meta title="Components|Base/Social Feed" component={SocialFeed} />

# Social Feed
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
 
## Base
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

<Preview>
  <Story name="Base">
    <SocialFeed username="@nestagencyuk" />
  </Story>
</Preview>

## Variants
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

### Instagram
To use this variant, a token needs to be deployed using a token refresh agent:
- Log in to [Facebook Developers](https://developers.facebook.com/) as Nest 
- Choose the "Nest Agency Social Feed" app
- Go to "Instagram", and then "Add Instagram Testers"
- Add the Instagram account that you want the data to fetch from
- Log into that Instagram account and go to "Settings" > "Apps and Websites"
- Authorise the app
- Go back to Facebook dev account - the account should now be in the tester list.
- Choose "Generate Token" and authorise the app again
- Copy the token
- Go to the [Token Agent](https://github.com/nestagencyuk/service_instagram-token-agent)
- Click "Deploy" and fill out the details.
- The app name should be `[username]-token` **This is crucial otherwise it won't work**. 
- The region is Europe.
- Inserting the copied token into the relevant field
- Deploy!
- Now the username can be passed to the component as a prop.

<Preview>
  <Story name="Instagram">
    <SocialFeed variant="Instagram" username="@nestagencyuk" />
  </Story>
</Preview>

## Sizes
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

### Small
<Preview>
  <Story name="Small">
    <SocialFeed size="Small" limit={8} username="@nestagencyuk" />
  </Story>
</Preview>

### Medium
<Preview>
  <Story name="Medium">
    <SocialFeed size="Medium" limit={6} username="@nestagencyuk" />
  </Story>
</Preview>

### Large
<Preview>
  <Story name="Large">
    <SocialFeed size="Large" limit={4} username="@nestagencyuk" />
  </Story>
</Preview>

## Prop Types
<Props of={SocialFeed} />