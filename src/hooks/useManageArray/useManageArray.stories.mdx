import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { Fragment, useContext, useState } from 'react'
import { Button } from '../../components/Button'
import { Field } from '../../components/Field'
import { useManageArray } from '.'

<Meta title="Hooks|Manage Array" component={null} />

# Manage Array
A hook for adding and removing items from an array, e.g rows in a table.

## Base
The hook in its simplest form.

<Preview>
  <Story name="Base">
    {() => {
      const {array, addItem, deleteItem} = useManageArray()
      const [value, setValue] = useState('');
      const handleSubmit = (e) => {
        e.preventDefault()
        addItem(value)
      }
      return (
        <Fragment>
          <form style={{ display: 'flex' }} onSubmit={handleSubmit}>
            <Field id="field" label="Name" value={value} onChange={setValue} />
            <Button type="submit">Add</Button>
          </form>
          {array && array.map((x, i) => (
            <div className="m m--b-md">
              {x}
              <Button className="m m--l-md" variant="Tertiary" size="Small" onClick={() => deleteItem(x)}>Delete</Button>
            </div>
          ))}
        </Fragment>
      )
    }}
  </Story>
</Preview>

<!-- ## Object
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 

<Preview>
  <Story name="Object">
    {() => {
      const [array, addItem, deleteItem] = useManageArray({ key: 'id' })
      const handleSubmit = (e) => {
        e.preventDefault()
        addItem({ value })
      }
      return (
        <Fragment>
          <form style={{ display: 'flex' }} onSubmit={handleSubmit}>
            <Field id="field" label="Name" value={value} onChange={setValue} />
            <Button type="submit">Add</Button>
          </form>
          {array.map((x, i) => (
            <div className="m m--b-md">
              {x.value}
              <Button className="m m--l-md" variant="Tertiary" size="Small" onClick={() => deleteItem(x.id)}>Delete</Button>
            </div>
          ))}
        </Fragment>
      )
    }}
  </Story>
</Preview> -->
