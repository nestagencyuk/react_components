import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { Fragment, useContext, useState } from 'react'
import { RefBox } from '../../components/Box'
import { useObserver } from '.'

<Meta title="Hooks|Observer" />

# Observer
A hook for checking to see if a particular element is visible to the user.

## Base
The hook in its simplest form.

<Preview>
  <Story name="Base">
    {() => {
      const [target, setTarget] = useState(null)
      const [entry, ref] = useObserver({ target })
      return (
        <Fragment>
          <RefBox ref={setTarget}>
            <div style={{ backgroundColor: entry?.intersectionRatio === 1 ? 'red' : 'blue', height: '500px' }}>
              If I am fully visible, I will be red! Scroll down to see the change.
            </div>
          </RefBox>
          <div style={{ marginBottom: '1000px' }} />
        </Fragment>
      )
    }}
  </Story>
</Preview>
