import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { Fragment, useContext, useState, useEffect } from 'react'
import { Button } from '../../components/Button'
import { usePagination } from '.'

<Meta title="Hooks|Pagination" component={null} />

# Pagination
A hook for showing a section of an array, useful for creating components such as pagination or sliders.
 
## Base
The hook in its simplest form.

<Preview>
  <Story name="Base">
    {() => {
      const [testData, setTestData] = useState(["1", "2", "3"])
      const itemsPerPage = 3
      const { currentPage, maxPage, nextPage, prevPage, currentData } = usePagination({dataToPaginate: testData, itemsPerPage})
      return (
        <Fragment>
          <div>Current page: {currentPage}</div>
          <div>Items per page: {itemsPerPage}</div>
          <div>Total number of pages: {maxPage}</div>
          {
            currentData.map(item => <p key={item}>{item}</p>)
          }
          <Button className="m--r-sm" disabled={currentPage === 1} onClick={() => prevPage()}>Prev</Button>
          <Button className="m--r-sm" disabled={currentPage === maxPage} onClick={() => nextPage()}>Next</Button>
          <Button onClick={() => setTestData((prev) => [...prev, Math.ceil(Math.random() * 500)])}>Add Test Item</Button>
        </Fragment>
      )
    }}
  </Story>
</Preview>