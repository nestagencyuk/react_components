import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { Fragment, useContext, useState } from 'react'
import { Button } from '../../components/Button'
import { ToggleContext, Toggle } from '.'

<Meta title='Interaction|Toggle' component={Toggle} />

# Toggle
Toggle provides a generic boolean state that is accessible by any component that is a descendent in the component tree. Useful for modals, alerts and other hidden content where local state wouldn't be appropriate.
 
## Base
The most concise way of accessing the toggle state would be to use Render Props (i.e a function as a child).

<Preview>
  <Story name='Base'>
    <Toggle>
      {({ toggled, setToggled }) => <Button type={'Primary'} onClick={() => setToggled(!toggled)}>{toggled ? 'Untoggle' : 'Toggle me!'}</Button>}
    </Toggle>
  </Story>
</Preview>

## Context
Alternatively, you can use `useContext` to access the toggle state.

<Preview>
  <Story name='Context'>
    {() => {
      const App = () => {
        const { toggled, setToggled } = useContext(ToggleContext)
        return (
          <Button type={'Primary'} onClick={() => setToggled(!toggled)}>{toggled ? 'Untoggle' : 'Toggle me!'}</Button>
        )
      }
      return (
        <Toggle>
          <App />
        </Toggle>
      )
    }}
  </Story>
</Preview>